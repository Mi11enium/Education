**Троян** — это тип вредоносной программы, которая маскируется под легитимное или полезное ПО, но выполняет скрытые вредоносные действия.

**Ключевая особенность:** В отличие от вирусов и червей, трояны **НЕ умеют самовоспроизводиться**. Они распространяются через социальную инженерию — пользователь сам должен запустить трояна, будучи обманутым.

**Классическая аналогия:** Древние греки подарили троянцам огромного деревянного коня как "дар" или "символ мира". Ночью из коня вышли солдаты и открыли ворота города. Точно так же троянская программа выглядит как "полезный подарок" (кейген для программы, новая игра, "патч"), но внутри скрывает злой умысел.

### Как работают трояны?
1. **Создание и маскировка:**
    - Злоумышленник создаёт трояна с помощью специальных фреймворков.
    - Трояна "упаковывают" (маскируют) под безобидный файл: `crack.exe`, `document.pdf.exe`, `instagram_update.msi`. Используется техника **связывания** (binding) — когда трояна "приклеивают" к легитимной программе.
2. **Распространение и доставка:**
    - **Фишинг-письма** с "важным вложением".
    - **Взломанные сайты**, которые предлагают "установить обновление Flash Player".
    - **Пиратское ПО, кейгены, трейнеры**.
    - **Соцсети и мессенджеры** ("Привет, посмотри моё новое фото!" -> `photo.scr`).
3. **Запуск и установка:**
    - Жертва запускает файл. Часто для этого используется социальная инженерия, чтобы обойти предупреждения системы ("Это приложение из неизвестного источника").
    - Троян устанавливает себя в систему, часто прописывается в автозагрузку (`HKLM\Software\Microsoft\Windows\CurrentVersion\Run`).
4. **Выполнение полезной нагрузки (Payload):**
    - Это основная вредоносная функция трояна. Запускается **бекдор** (backdoor) — "чёрный ход" в систему.
5. **Связь с C&C-сервером:**
    - Троян пытается связаться с **Command & Control сервером** злоумышленника, чтобы получить дальнейшие инструкции: что красть, кого заражать, как атаковать.

### Классификация троянов (Какие бывают и что делают)
Трояны классифицируют по их основной "полезной нагрузке":
#### 1. Backdoor (Бекдор, "чёрный ход")
- **Что делает:** Даёт злоумышленнику полный удалённый контроль над системой жертвы. Может выполнять команды, загружать/скачивать файлы, включать веб-камеру.
- **Примеры:** **NetBus**, **Back Orifice**, **DarkComet**.
- **Для хакера:** Это ваш основной инструмент для поддержания доступа после успешного взлома.
#### 2. Banker/Trojan-Spy (Банковские/Шпионы)
- **Что делает:** Крадут финансовую информацию: логины/пароли от банков, данные кредитных карт, коды 2FA. Часто используют **кейлоггинг** (запись всех нажатий клавиш) и **форграбинг** (перехват данных из форм в браузере).
- **Примеры:** **Zeus**, **SpyEye**, **Emotet**.
#### 3. RAT (Remote Administration Tool)
- **Что делает:** По сути, продвинутый бекдор с удобным графическим интерфейсом для атакующего. Позволяет управлять системой как своей собственной.
- **Примеры:** **njRAT**, **BlackShades**.
#### 4. Downloader/ Dropper
- **Что делает:** Его задача — незаметно скачать и установить на компьютер жертвы _другие_ виды вредоносного ПО (например, вымогатели или майнеры). Сам троян может быть очень маленьким и незаметным.
- **Пример:** Троян скачивает и запускает **Cryptolocker** (вымогатель).
#### 5. DDoS-трояны (Ботнеты)
- **Что делает:** Превращает компьютер жертвы в "зомби" (бота). По команде с C&C все заражённые компьютеры начинают одновременно атаковать целевой сайт или сервер, вызывая отказ в обслуживании (DDoS).
- **Пример:** Трояны для ботнета **Mirai**.
#### 6. Clicker
- **Что делает:** Автоматически кликает на рекламные объявления или посещает определённые сайты, генерируя незаконный доход для злоумышленника.
### Методы обфускации и защиты от обнаружения
Трояны используют различные техники, чтобы скрыться от антивирусов:
- **Крипторы:** Шифруют тело трояна, чтобы скрыть сигнатуру.
- **Пакеры:** Сжимают исполняемый файл, изменяя его сигнатуру.
- **Файрвол-бейпинг:** Проверяют наличие активного файрвола и пытаются обойти его.
- **Поведенческий анализ:** Могут "засыпать" на некоторое время после установки, чтобы не попасться в песочницу антивируса.